(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50455f76"],{"37ce":function(e,t,r){"use strict";var s=r("9761"),a=r.n(s);a.a},9761:function(e,t,r){},e90b:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order my-5"},[r("div",{staticClass:"container"},[r("h3",{staticClass:"hot-title py-3"},[e._v(" 訂購人資訊 ")]),r("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var s=t.handleSubmit;return[r("form",{staticClass:"form-row text-left form-info",on:{submit:function(t){return t.preventDefault(),s(e.submitOrder)}}},[r("div",{staticClass:"col-lg-6"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"order-name"}},[e._v("姓名")]),r("ValidationProvider",{attrs:{name:"姓名",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.classes,a=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:e.order.user.name,expression:"order.user.name"}],staticClass:"form-control",class:s,attrs:{type:"text",id:"order-name",placeholder:"請輸入姓名"},domProps:{value:e.order.user.name},on:{input:function(t){t.target.composing||e.$set(e.order.user,"name",t.target.value)}}}),r("p",{staticClass:"text-danger"},[e._v(e._s(a[0]))])]}}],null,!0)})],1)]),r("div",{staticClass:"col-lg-6"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"order-emial"}},[e._v("信箱")]),r("ValidationProvider",{attrs:{name:"信箱",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.classes,a=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:e.order.user.email,expression:"order.user.email"}],staticClass:"form-control",class:s,attrs:{type:"email",id:"order-email",placeholder:"信箱"},domProps:{value:e.order.user.email},on:{input:function(t){t.target.composing||e.$set(e.order.user,"email",t.target.value)}}}),r("p",{staticClass:"text-danger"},[e._v(e._s(a[0]))])]}}],null,!0)})],1)]),r("div",{staticClass:"col-lg-6"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"order-tel"}},[e._v("電話")]),r("ValidationProvider",{attrs:{name:"電話",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.classes,a=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:e.order.user.tel,expression:"order.user.tel"}],staticClass:"form-control",class:s,attrs:{type:"tel",id:"order-tel",placeholder:"電話"},domProps:{value:e.order.user.tel},on:{input:function(t){t.target.composing||e.$set(e.order.user,"tel",t.target.value)}}}),r("p",{staticClass:"text-danger"},[e._v(e._s(a[0]))])]}}],null,!0)})],1)]),r("div",{staticClass:"col-lg-6"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"order-address"}},[e._v("地址")]),r("ValidationProvider",{attrs:{name:"地址",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.classes,a=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:e.order.user.address,expression:"order.user.address"}],staticClass:"form-control",class:s,attrs:{type:"text",id:"order-address",placeholder:"地址"},domProps:{value:e.order.user.address},on:{input:function(t){t.target.composing||e.$set(e.order.user,"address",t.target.value)}}}),r("p",{staticClass:"text-danger"},[e._v(e._s(a[0]))])]}}],null,!0)})],1)]),r("div",{staticClass:"col-lg-12 d-flex flex-column justify-content-between"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"order-message"}},[e._v("說明")]),r("ValidationProvider",{attrs:{name:"說明",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.classes,a=t.errors;return[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.order.message,expression:"order.message"}],staticClass:"form-control",class:s,attrs:{type:"text",id:"order-message",placeholder:"說明欄位"},domProps:{value:e.order.message},on:{input:function(t){t.target.composing||e.$set(e.order,"message",t.target.value)}}}),r("p",{staticClass:"text-danger"},[e._v(e._s(a[0]))])]}}],null,!0)})],1)]),r("button",{staticClass:"btn btn-dark btn-lg btn-block",attrs:{type:"submit"}},[e._v("送出訂單")]),e.orderId?r("span",{staticClass:"text-success p-3"},[e._v("已送出訂單")]):e._e(),e.orderId?r("button",{staticClass:"btn btn-dark btn-lg btn-block",on:{click:e.payMoney}},[e._v("確認付款")]):e._e()])]}}])})],1)])},a=[],o=(r("99af"),r("7bb1")),l={data:function(){return{order:{user:{},message:""},orderId:"",is_paid:!1}},components:{ValidationProvider:o["b"]},methods:{submitOrder:function(){var e=this,t="".concat("https://vue-course-api.hexschool.io/","api/").concat("myfurnitureshop","/order"),r=e.order;e.$store.dispatch("updateLoading",!0),e.$http.post(t,{data:r}).then((function(t){console.log(t.data),e.orderId=t.data.orderId,e.$bus.$emit("updateCart"),e.$bus.$emit("message:push",(t.data.message,"success")),e.$store.dispatch("updateLoading",!1)}))},payMoney:function(){var e=this,t="".concat("https://vue-course-api.hexschool.io/","api/").concat("myfurnitureshop","/pay/").concat(e.orderId);e.$http.post(t).then((function(t){t.data.success?(e.is_paid=t.data.success,e.$router.push("completed")):e.is_paid=t.data.success}))}}},n=l,d=(r("37ce"),r("2877")),i=Object(d["a"])(n,s,a,!1,null,null,null);t["default"]=i.exports}}]);
//# sourceMappingURL=chunk-50455f76.7f605997.js.map