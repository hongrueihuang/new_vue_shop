{"version":3,"sources":["webpack:///./src/views/frontend/Product.vue?e15d","webpack:///src/views/frontend/Product.vue","webpack:///./src/views/frontend/Product.vue?136b","webpack:///./src/views/frontend/Product.vue","webpack:///./src/views/frontend/Product.vue?9d42"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","style","product","attrs","_v","_s","title","content","description","qty","on","$event","domProps","addCart","_l","item","key","id","category","getProduct","staticRenderFns","component"],"mappings":"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","file":"js/chunk-a5f58e1c.ca641257.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container my-5\"},[_c('div',{staticClass:\"row text-left\"},[_c('div',{staticClass:\"col-lg-8\"},[_c('div',{staticClass:\"bg-cover\",style:((\"background-image: url(\" + (_vm.product.imageUrl) + \"); height:500px\"))})]),_c('div',{staticClass:\"col-lg-4\"},[_c('nav',{attrs:{\"aria-label\":\"breadcrumb\"}},[_c('ol',{staticClass:\"breadcrumb bg-white\"},[_c('li',{staticClass:\"breadcrumb-item\"},[_c('router-link',{staticClass:\"text-decoration-none\",attrs:{\"to\":\"/\"}},[_c('i',{staticClass:\"fas fa-home mr-2\"}),_vm._v(\"首頁\")])],1),_c('li',{staticClass:\"breadcrumb-item\"},[_c('router-link',{staticClass:\"text-decoration-none\",attrs:{\"to\":\"/products\"}},[_vm._v(\"商品\")])],1),_c('li',{staticClass:\"breadcrumb-item active\",attrs:{\"aria-current\":\"page\"}},[_vm._v(_vm._s(_vm.product.title))])])]),_c('h1',[_vm._v(_vm._s(_vm.product.title))]),_c('hr'),_c('div',{staticClass:\"py-2 product-content\"},[_c('p',[_vm._v(_vm._s(_vm.product.content))]),_c('h3',[_vm._v(\"材質說明\")]),_vm._v(\" \"+_vm._s(_vm.product.description)+\" \")]),_c('hr'),_c('div',{staticClass:\"add-cart\"},[_c('div',{staticClass:\"input-group cart-num\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('button',{staticClass:\"btn btn-outline-secondary w-100\",attrs:{\"disabled\":_vm.qty === 1},on:{\"click\":function($event){_vm.qty-=1}}},[_c('i',{staticClass:\"fas fa-minus\"})])]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"number\"},domProps:{\"value\":_vm.qty}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary w-100\",on:{\"click\":function($event){_vm.qty+=1}}},[_c('i',{staticClass:\"fas fa-plus\"})])])]),_c('button',{staticClass:\"btn btn-outline-success\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addCart(_vm.product,_vm.qty)}}},[_c('i',{staticClass:\"fas fa-shopping-cart mr-2\"}),_vm._v(\"加入購物車\")])])])]),_c('div',{staticClass:\"relative mt-5\"},[_c('h2',[_vm._v(\"相關產品\")]),_c('hr'),_c('div',{staticClass:\"row\"},_vm._l((_vm.relatedItem),function(item){return _c('div',{key:item.id,staticClass:\"col-lg-4\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"chair-image\",style:((\"background-image: url(\" + (item.imageUrl) + \")\"))},[_c('div',{staticClass:\"chair-category\"},[_vm._v(_vm._s(item.category))]),_c('div',{staticClass:\"chair-cover\"},[_c('button',{staticClass:\"btn btn-outline-light\",on:{\"click\":function($event){return _vm.getProduct(item.id)}}},[_vm._v(\"看詳細\")])])]),_c('div',{staticClass:\"card-body\"},[_c('h4',{staticClass:\"chair-title\"},[_vm._v(_vm._s(item.title))])]),_c('div',{staticClass:\"d-flex d-lg-block\"},[_c('button',{staticClass:\"btn btn-outline-secondary rounded-0 btn-lg btn-block\",on:{\"click\":function($event){return _vm.addCart(item)}}},[_c('i',{staticClass:\"fas fa-plus-circle mr-2\"}),_vm._v(\"Add Cart\")]),_c('button',{staticClass:\"btn btn-outline-secondary rounded-0 mt-0 btn-lg btn-block d-lg-none\",on:{\"click\":function($event){return _vm.getProduct(item.id)}}},[_vm._v(\"更多資訊\")])])])])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"container my-5\">\r\n    <div class=\"row text-left\">\r\n        <div class=\"col-lg-8\">\r\n            <div class=\"bg-cover\" :style=\"`background-image: url(${product.imageUrl}); height:500px`\"></div>\r\n        </div>\r\n        <div class=\"col-lg-4\">\r\n            <nav aria-label=\"breadcrumb\">\r\n                <ol class=\"breadcrumb bg-white\">\r\n                    <li class=\"breadcrumb-item\">\r\n                        <router-link to=\"/\" class=\"text-decoration-none\"><i class=\"fas fa-home mr-2\"></i>首頁</router-link>\r\n                    </li>\r\n                    <li class=\"breadcrumb-item\">\r\n                        <router-link to=\"/products\" class=\"text-decoration-none\">商品</router-link>\r\n                    </li>\r\n                    <li class=\"breadcrumb-item active\" aria-current=\"page\">{{ product.title }}</li>\r\n                </ol>\r\n            </nav>\r\n\r\n            <h1>{{ product.title }}</h1>\r\n            <hr>\r\n            <div class=\"py-2 product-content\">\r\n                <p>{{ product.content }}</p>\r\n                <h3>材質說明</h3>\r\n                {{ product.description }}\r\n            </div>\r\n            <hr>\r\n            <div class=\"add-cart\">\r\n                <div class=\"input-group cart-num\">\r\n                    <div class=\"input-group-prepend\">\r\n                        <button class=\"btn btn-outline-secondary w-100\" @click=\"qty-=1\" :disabled=\"qty === 1\"><i class=\"fas fa-minus\"></i></button>\r\n                    </div>\r\n                    <input type=\"number\" class=\"form-control\" :value=\"qty\">\r\n                    <div class=\"input-group-append\">\r\n                        <button class=\"btn btn-outline-secondary w-100\" @click=\"qty+=1\"><i class=\"fas fa-plus\"></i></button>\r\n                    </div>\r\n                </div>\r\n                <button type=\"button\" class=\"btn btn-outline-success\" @click=\"addCart(product,qty)\"><i class=\"fas fa-shopping-cart mr-2\"></i>加入購物車</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"relative mt-5\">\r\n        <h2>相關產品</h2>\r\n        <hr>\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-4\" v-for=\"item in relatedItem\" :key=\"item.id\">\r\n                <div class=\"card\">\r\n                    <div class=\"chair-image\" :style=\"`background-image: url(${item.imageUrl})`\">\r\n                        <div class=\"chair-category\">{{ item.category }}</div>\r\n                        <div class=\"chair-cover\">\r\n                            <button class=\"btn btn-outline-light\" @click=\"getProduct(item.id)\">看詳細</button>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <h4 class=\"chair-title\">{{ item.title }}</h4>\r\n                    </div>\r\n                    <div class=\"d-flex d-lg-block\">\r\n                        <button class=\"btn btn-outline-secondary rounded-0 btn-lg btn-block\" @click=\"addCart(item)\"><i class=\"fas fa-plus-circle mr-2\"></i>Add Cart</button>\r\n                        <button class=\"btn btn-outline-secondary rounded-0 mt-0 btn-lg btn-block d-lg-none\" @click=\"getProduct(item.id)\">更多資訊</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            product: {},\r\n            allProducts: [],\r\n            qty: 1\r\n        }\r\n    },\r\n    computed: {\r\n        relatedItem() {\r\n            const vm = this;\r\n            let related = vm.allProducts.filter(function (item) {\r\n                return item.type === vm.product.type && item.title !== vm.product.title\r\n            })\r\n            return related\r\n        },\r\n    },\r\n    methods: {\r\n        getProduct(id) {\r\n            const vm = this;\r\n            const api = `${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_CUSTOMPATH}/product/${id}`;\r\n            vm.$http.get(api).then((response) => {\r\n                vm.product = response.data.product;\r\n            })\r\n        },\r\n        getAllProducts() {\r\n            const vm = this;\r\n            const api = `${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_CUSTOMPATH}/products/all`;\r\n            vm.$http.get(api).then((response) => {\r\n                vm.allProducts = response.data.products;\r\n            })\r\n        },\r\n        addCart(item, qty) {\r\n            const vm = this;\r\n            const api = `${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_CUSTOMPATH}/cart`;\r\n            const data = {\r\n                'product_id': item.id,\r\n                'qty': qty\r\n            };\r\n            vm.$http.post(api, {\r\n                data\r\n            }).then((response) => {\r\n                console.log(response.data);\r\n                vm.$bus.$emit('updateCart');\r\n                vm.$bus.$emit('message:push', response.data.message, 'success')\r\n            })\r\n        },\r\n    },\r\n    created() {\r\n        let product_id = this.id = this.$route.params.id;\r\n        this.getProduct(product_id);\r\n        this.getAllProducts();\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../../assets/helpers/card';\r\n\r\n.product-content {\r\n    line-height: 2rem;\r\n}\r\n\r\n.add-cart {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: stretch;\r\n}\r\n\r\n.cart-num {\r\n    width: 50%;\r\n\r\n    .input-group-prepend,\r\n    input,\r\n    .input-group-append {\r\n        width: 33.33% !important;\r\n        height: 60px !important;\r\n    }\r\n}\r\n\r\n@media (max-width: 962px) {\r\n    .cart-num {\r\n        width: 33.33%;\r\n\r\n        .input-group-prepend,\r\n        input,\r\n        .input-group-append {\r\n            flex: auto;\r\n            width: 10% !important;\r\n        }\r\n    }\r\n}\r\n\r\n@media (max-width: 360px) {\r\n    .cart-num {\r\n\r\n        .input-group-prepend,\r\n        input,\r\n        .input-group-append {\r\n            width: 15% !important;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Product.vue?vue&type=template&id=9154caf2&\"\nimport script from \"./Product.vue?vue&type=script&lang=js&\"\nexport * from \"./Product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Product.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}