(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a5f58e1c"],{"0fd0":function(t,a,s){"use strict";s.r(a);var c=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container my-5"},[s("div",{staticClass:"row text-left"},[s("div",{staticClass:"col-lg-8"},[s("div",{staticClass:"bg-cover",style:"background-image: url("+t.product.imageUrl+"); height:500px"})]),s("div",{staticClass:"col-lg-4"},[s("nav",{attrs:{"aria-label":"breadcrumb"}},[s("ol",{staticClass:"breadcrumb bg-white"},[s("li",{staticClass:"breadcrumb-item"},[s("router-link",{staticClass:"text-decoration-none",attrs:{to:"/"}},[s("i",{staticClass:"fas fa-home mr-2"}),t._v("首頁")])],1),s("li",{staticClass:"breadcrumb-item"},[s("router-link",{staticClass:"text-decoration-none",attrs:{to:"/products"}},[t._v("商品")])],1),s("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.product.title))])])]),s("h1",[t._v(t._s(t.product.title))]),s("hr"),s("div",{staticClass:"py-2 product-content"},[s("p",[t._v(t._s(t.product.content))]),s("h3",[t._v("材質說明")]),t._v(" "+t._s(t.product.description)+" ")]),s("hr"),s("div",{staticClass:"add-cart"},[s("div",{staticClass:"input-group cart-num"},[s("div",{staticClass:"input-group-prepend"},[s("button",{staticClass:"btn btn-outline-secondary w-100",attrs:{disabled:1===t.qty},on:{click:function(a){t.qty-=1}}},[s("i",{staticClass:"fas fa-minus"})])]),s("input",{staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.qty}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-secondary w-100",on:{click:function(a){t.qty+=1}}},[s("i",{staticClass:"fas fa-plus"})])])]),s("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"},on:{click:function(a){return t.addCart(t.product,t.qty)}}},[s("i",{staticClass:"fas fa-shopping-cart mr-2"}),t._v("加入購物車")])])])]),s("div",{staticClass:"relative mt-5"},[s("h2",[t._v("相關產品")]),s("hr"),s("div",{staticClass:"row"},t._l(t.relatedItem,(function(a){return s("div",{key:a.id,staticClass:"col-lg-4"},[s("div",{staticClass:"card"},[s("div",{staticClass:"chair-image",style:"background-image: url("+a.imageUrl+")"},[s("div",{staticClass:"chair-category"},[t._v(t._s(a.category))]),s("div",{staticClass:"chair-cover"},[s("button",{staticClass:"btn btn-outline-light",on:{click:function(s){return t.getProduct(a.id)}}},[t._v("看詳細")])])]),s("div",{staticClass:"card-body"},[s("h4",{staticClass:"chair-title"},[t._v(t._s(a.title))])]),s("div",{staticClass:"d-flex d-lg-block"},[s("button",{staticClass:"btn btn-outline-secondary rounded-0 btn-lg btn-block",on:{click:function(s){return t.addCart(a)}}},[s("i",{staticClass:"fas fa-plus-circle mr-2"}),t._v("Add Cart")]),s("button",{staticClass:"btn btn-outline-secondary rounded-0 mt-0 btn-lg btn-block d-lg-none",on:{click:function(s){return t.getProduct(a.id)}}},[t._v("更多資訊")])])])])})),0)])])},i=[],r=(s("99af"),s("4de4"),{data:function(){return{product:{},allProducts:[],qty:1}},computed:{relatedItem:function(){var t=this,a=t.allProducts.filter((function(a){return a.type===t.product.type&&a.title!==t.product.title}));return a}},methods:{getProduct:function(t){var a=this,s="".concat("https://vue-course-api.hexschool.io/","api/").concat("myfurnitureshop","/product/").concat(t);a.$http.get(s).then((function(t){a.product=t.data.product}))},getAllProducts:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io/","api/").concat("myfurnitureshop","/products/all");t.$http.get(a).then((function(a){t.allProducts=a.data.products}))},addCart:function(t,a){var s=this,c="".concat("https://vue-course-api.hexschool.io/","api/").concat("myfurnitureshop","/cart"),i={product_id:t.id,qty:a};s.$http.post(c,{data:i}).then((function(t){console.log(t.data),s.$bus.$emit("updateCart"),s.$bus.$emit("message:push",t.data.message,"success")}))}},created:function(){var t=this.id=this.$route.params.id;this.getProduct(t),this.getAllProducts()}}),n=r,o=(s("5a74"),s("2877")),e=Object(o["a"])(n,c,i,!1,null,null,null);a["default"]=e.exports},"5a74":function(t,a,s){"use strict";var c=s("7f16"),i=s.n(c);i.a},"7f16":function(t,a,s){}}]);
//# sourceMappingURL=chunk-a5f58e1c.ca641257.js.map